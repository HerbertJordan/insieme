// -------------- Pretty Print Inspire --------------
// Inspire Program 
//  Entry Point: 
fun(){
        decl ref<int<4>> v1 =  var(0);
        decl ref<array<ref<struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>>,1>> v2 =  var(undefined(array<ref<struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>>,1>));
        v2 := fun(){
            decl ref<array<ref<struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>>,1>> v3 =  new(array.create.1D( var(undefined(struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>)), sizeof(struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>)/sizeof(struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>)));
            v3[0].top := null;
            return v3;
        }();
        {
            for(decl ref<int<4>> v20 =  var(0) .. 10 : 1) {
                printf("Pushing %d\n", varlist.pack((v20)));
                fun(array<ref<struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>>,1> v5, int<4> v6){
                    decl ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>> v7 =  new(array.create.1D( var(undefined(rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>})), sizeof(rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>})/sizeof(rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>})));
                    v7[0].value := v6;
                    v7[0].next := v5[0].top;
                    v5[0].top := v7;
                }(v2, v20);
            };
            v1 := 0+ceil(10-0/1)*1;
        };
        {
            for(decl ref<int<4>> v21 =  var(0) .. 5 : 1) {
                printf("Poping  %d\n", varlist.pack((fun(array<ref<struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>>,1> v10){
                    if(!v10[0].top) {
                        return 0-1;
                    } else { };
                    decl ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>> v11 =  var(v10[0].top);
                    decl ref<int<4>> v12 =  var(v11[0].value);
                    v10[0].top := v11[0].next;
                     del(v11);
                    return v12;
                }(v2))));
            };
            v1 := 0+ceil(5-0/1)*1;
        };
        fun(array<ref<struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>>,1> v15){
            decl ref<array<ref<struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>>,1>> v17 =  var(v15);
            {
                while(v17[0].top) {
                    decl ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>> v16 =  var(v17[0].top);
                    v17[0].top := v16[0].next;
                     del(v16);
                };
                 del(v17);
            };
        }(v2);
        return 0;
    }




// --------- Pretty Print Inspire - Detail ----------
// Inspire Program 
//  Entry Point: 
fun(){
        decl ref<int<4>> v1 = ( var(0));
        decl ref<array<ref<struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>>,1>> v2 = ( var(undefined(array<ref<struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>>,1>)));
        (v2 := fun(){
            decl ref<array<ref<struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>>,1>> v3 = ( new(array.create.1D(( var(undefined(struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>))), (sizeof(struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>)/sizeof(struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>)))));
            (( *(( *v3)[0])).top := null);
            return ( *v3);
        }());
        {
            for(decl ref<int<4>> v20 = ( var(0)) .. 10 : 1) {
                printf("Pushing %d\n", varlist.pack((( *v20))));
                fun(array<ref<struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>>,1> v5, int<4> v6){
                    decl ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>> v7 = ( new(array.create.1D(( var(undefined(rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}))), (sizeof(rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>})/sizeof(rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>})))));
                    (( *(( *v7)[0])).value := v6);
                    (( *(( *v7)[0])).next := ( *( *(v5[0])).top));
                    (( *(v5[0])).top := ( *v7));
                }(( *v2), ( *v20));
            };
            (v1 := (0+(CAST<int<4>>(ceil((CAST<real<8>>((10-0))/CAST<real<8>>(1))))*1)));
        };
        {
            for(decl ref<int<4>> v21 = ( var(0)) .. 5 : 1) {
                printf("Poping  %d\n", varlist.pack((fun(array<ref<struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>>,1> v10){
                    if((!CAST<bool>(( *( *(v10[0])).top)))) {
                        return (CAST<int<4>>(0)-1);
                    } else { };
                    decl ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>> v11 = ( var(( *( *(v10[0])).top)));
                    decl ref<int<4>> v12 = ( var(( *( *(( *v11)[0])).value)));
                    (( *(v10[0])).top := ( *( *(( *v11)[0])).next));
                    ( del(v11));
                    return ( *v12);
                }(( *v2)))));
            };
            (v1 := (0+(CAST<int<4>>(ceil((CAST<real<8>>((5-0))/CAST<real<8>>(1))))*1)));
        };
        fun(array<ref<struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>>,1> v15){
            decl ref<array<ref<struct<top:ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>>>>,1>> v17 = ( var(v15));
            {
                while(CAST<bool>(( *( *(( *v17)[0])).top))) {
                    decl ref<array<ref<rec 'elem.{'elem=struct<value:ref<int<4>>,next:ref<array<ref<'elem>,1>>>}>,1>> v16 = ( var(( *( *(( *v17)[0])).top)));
                    (( *(( *v17)[0])).top := ( *( *(( *v16)[0])).next));
                    ( del(v16));
                };
                ( del(v17));
            };
        }(( *v2));
        return 0;
    }


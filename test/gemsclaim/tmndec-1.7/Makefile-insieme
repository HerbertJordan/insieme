INSIEME_SRC=insieme-tmndec.c
INSIEME_EXE=insieme-tmndec

#MACROS=-D EXCLUDE_PGX_SUPPORT -D EXCLUDE_MIF_SUPPORT -D EXCLUDE_RAS_SUPPORT -D EXCLUDE_BMP_SUPPORT -D EXCLUDE_JPG_SUPPORT
SRC=*.c 
INCLUDE= 
all-insieme:
	~/Insieme/build_master/code/driver/main  --std=c99  --col-wrap=120 --show-line-no --log-level=INFO -b seq -o ${INSIEME_SRC} ${MACROS} -I ${INCLUDE} ${SRC} tmndec.c --dump-ir out.ir
	gcc -fshow-column -Wall -Wl,--no-as-needed -pipe -I. -std=gnu99 -I/home/alessi/Insieme/insieme_master/code/runtime/include -D_XOPEN_SOURCE=700 -D_GNU_SOURCE -ldl -fno-strict-aliasing -O3 -o ${INSIEME_EXE} ${INSIEME_SRC} -lm -lpthread -lrt

gcc:	
	gcc -g -fshow-column -Wall -Wl,--no-as-needed -pipe -I. -std=gnu99 -I/home/alessi/Insieme/insieme_master/code/runtime/include -D_XOPEN_SOURCE=700 -D_GNU_SOURCE -ldl -fno-strict-aliasing -O3 -o ${INSIEME_EXE} ${INSIEME_SRC} -lm -lpthread -lrt

all:
	gcc -w -fopenmp tmndec.c -I ${INCLUDE} ${MACROS} ${SRC} -lm -o  tmndec

clean:
	rm  -f jasper ${INSIEME_SRC} ${INSIEME_EXE}

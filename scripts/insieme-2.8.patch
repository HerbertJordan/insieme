diff -crB llvm-orig/tools/clang/include/clang/Parse/Parser.h llvm28/tools/clang/include/clang/Parse/Parser.h
*** llvm-orig/tools/clang/include/clang/Parse/Parser.h	2010-09-19 14:27:56.831485002 +0200
--- llvm28/tools/clang/include/clang/Parse/Parser.h	2010-09-18 14:56:11.000000000 +0200
***************
*** 24,29 ****
--- 24,33 ----
  #include <stack>
  #include <list>
  
+ //--- INSIEME COMPILER ---//
+ class ParserProxy;
+ //-----------------------//
+ 
  namespace clang {
    class AttributeList;
    struct CXX0XAttributeList;
***************
*** 76,81 ****
--- 80,88 ----
    friend class PragmaUnusedHandler;
    friend class ColonProtectionRAIIObject;
    friend class ParenBraceBracketBalancer;
+   //--- INSIEME COMPILER ---//
+ 	friend class ::ParserProxy;
+ //-----------------------//
    PrettyStackTraceParserEntry CrashInfo;
  
    Preprocessor &PP;
diff -crB llvm-orig/tools/clang/include/clang/Sema/Sema.h llvm28/tools/clang/include/clang/Sema/Sema.h
*** llvm-orig/tools/clang/include/clang/Sema/Sema.h	2010-09-03 04:10:08.000000000 +0200
--- llvm28/tools/clang/include/clang/Sema/Sema.h	2010-09-19 14:02:52.000000000 +0200
***************
*** 652,658 ****
                                 CXXScopeSpec *SS,
                                 ParsedType &SuggestedType);
  
!   Decl *ActOnDeclarator(Scope *S, Declarator &D);
  
    Decl *HandleDeclarator(Scope *S, Declarator &D,
                           MultiTemplateParamsArg TemplateParameterLists,
--- 652,658 ----
                                 CXXScopeSpec *SS,
                                 ParsedType &SuggestedType);
  
!   virtual Decl *ActOnDeclarator(Scope *S, Declarator &D);
  
    Decl *HandleDeclarator(Scope *S, Declarator &D,
                           MultiTemplateParamsArg TemplateParameterLists,
***************
*** 722,732 ****
                                           unsigned NumDecls);
    void ActOnFinishKNRParamDeclarations(Scope *S, Declarator &D,
                                         SourceLocation LocAfterDecls);
!   Decl *ActOnStartOfFunctionDef(Scope *S, Declarator &D);
!   Decl *ActOnStartOfFunctionDef(Scope *S, Decl *D);
    void ActOnStartOfObjCMethodDef(Scope *S, Decl *D);
  
!   Decl *ActOnFinishFunctionBody(Decl *Decl, Stmt *Body);
    Decl *ActOnFinishFunctionBody(Decl *Decl, Stmt *Body, bool IsInstantiation);
  
    /// \brief Diagnose any unused parameters in the given sequence of
--- 722,732 ----
                                           unsigned NumDecls);
    void ActOnFinishKNRParamDeclarations(Scope *S, Declarator &D,
                                         SourceLocation LocAfterDecls);
!   virtual Decl *ActOnStartOfFunctionDef(Scope *S, Declarator &D);
!   virtual Decl *ActOnStartOfFunctionDef(Scope *S, Decl *D);
    void ActOnStartOfObjCMethodDef(Scope *S, Decl *D);
  
!   virtual Decl *ActOnFinishFunctionBody(Decl *Decl, Stmt *Body);
    Decl *ActOnFinishFunctionBody(Decl *Decl, Stmt *Body, bool IsInstantiation);
  
    /// \brief Diagnose any unused parameters in the given sequence of
***************
*** 1513,1519 ****
    StmtResult ActOnExprStmt(FullExprArg Expr);
  
    StmtResult ActOnNullStmt(SourceLocation SemiLoc);
!   StmtResult ActOnCompoundStmt(SourceLocation L, SourceLocation R,
                                         MultiStmtArg Elts,
                                         bool isStmtExpr);
    StmtResult ActOnDeclStmt(DeclGroupPtrTy Decl,
--- 1513,1519 ----
    StmtResult ActOnExprStmt(FullExprArg Expr);
  
    StmtResult ActOnNullStmt(SourceLocation SemiLoc);
!   virtual StmtResult ActOnCompoundStmt(SourceLocation L, SourceLocation R,
                                         MultiStmtArg Elts,
                                         bool isStmtExpr);
    StmtResult ActOnDeclStmt(DeclGroupPtrTy Decl,
***************
*** 1532,1538 ****
                                      IdentifierInfo *II,
                                      SourceLocation ColonLoc,
                                      Stmt *SubStmt);
!   StmtResult ActOnIfStmt(SourceLocation IfLoc,
                                   FullExprArg CondVal, Decl *CondVar,
                                   Stmt *ThenVal,
                                   SourceLocation ElseLoc, Stmt *ElseVal);
--- 1532,1538 ----
                                      IdentifierInfo *II,
                                      SourceLocation ColonLoc,
                                      Stmt *SubStmt);
!   virtual StmtResult ActOnIfStmt(SourceLocation IfLoc,
                                   FullExprArg CondVal, Decl *CondVar,
                                   Stmt *ThenVal,
                                   SourceLocation ElseLoc, Stmt *ElseVal);
***************
*** 1549,1555 ****
                                   SourceLocation CondLParen, Expr *Cond,
                                   SourceLocation CondRParen);
  
!   StmtResult ActOnForStmt(SourceLocation ForLoc,
                            SourceLocation LParenLoc,
                            Stmt *First, FullExprArg Second,
                            Decl *SecondVar,
--- 1549,1555 ----
                                   SourceLocation CondLParen, Expr *Cond,
                                   SourceLocation CondRParen);
  
!   virtual StmtResult ActOnForStmt(SourceLocation ForLoc,
                            SourceLocation LParenLoc,
                            Stmt *First, FullExprArg Second,
                            Decl *SecondVar,
